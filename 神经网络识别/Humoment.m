function Hu = Humoment(I)
I=double(I);
m00=sum(sum(I));
m10=0;m01=0;
[row,col]=size(I);
for i=1:row
    for j=1:col
        m10=m10+i*I(i,j);
        m01=m01+j*I(i,j);
    end
end
xb=m10/m00;%重心坐标
yb=m01/m00;
%中心距
u02 = 0;u03 = 0;u11 = 0;u12 = 0;u20 = 0;u21 = 0;u30 = 0;
for i=1:row
    for j=1:col        
        u02=u02+(j-yb).^2.*I(i,j);
        u03=u03+(j-yb).^3.*I(i,j);
        u11=u11+(i-xb).*(j-yb)*I(i,j);
        u12=u12+(i-xb).*(j-yb).^2.*I(i,j);
        u20=u20+(i-xb).^2.*I(i,j);
        u21=u21+(i-xb).^2.*(j-yb).*I(i,j);
        u30=u30+(i-xb).^3.*I(i,j);
    end
end
%归一化中心距
n02=u02./m00.^2;
n03=u03./m00.^2.5;
n11=u11./m00.^2;
n12=u12./m00.^2.5;
n20=u20./m00.^2;
n21=u21./m00.^2.5;
n30=u30./m00.^2.5;         
%Hu矩
Hu(1) = n20 + n02;                     
Hu(2)  = (n20-n02).^2 + 4*(n11).^2;
Hu(3)  = (n30-3*n12).^2 + (3*n21-n03).^2;  
Hu(4)  = (n30+n12).^2 + (n21+n03).^2;
Hu(5)  = (n30-3*n12).*(n30+n12).*((n30+n12).^2-3*(n21+n03).^2)+(3*n21-n03).*(n21+n03).*(3*(n30+n12).^2-(n21+n03).^2);
Hu(6)  = (n20-n02).*((n30+n12).^2-(n21+n03).^2)+4*n11.*(n30+n12).*(n21+n03);
Hu(7)  = (3*n21-n03).*(n30+n12).*((n30+n12).^2-3*(n21+n03).^2)-(3*n12-n30).*(n21+n03).*(3*(n30+n12).^2-(n21+n03).^2);
